<!DOCTYPE html>
<html data-wf-domain="luxeret.com" data-wf-page="luxeret-4873" data-wf-site="luxeret-4870">
<head>
    <meta charset="utf-8"/>
    <title>룩세렛ㅣ관리자 포털 로그인</title>
    <meta property="og:type" content="website"> 
    <meta content="width=device-width, initial-scale=1" name="viewport"/>
    <link href="luxeret.css" rel="stylesheet" type="text/css"/>
    <meta name="naver-site-verification" content="483992bf4f969c4ad1b7b46d46bccc6257d5c97b" />

    <link rel="apple-touch-icon" sizes="180x180" href="/assets/image/apple-touch-icon.png">
<link rel="icon" type="image/ico" sizes="32x32" href="/assets/image/favicon.ico">
<link rel="icon" type="image/ico" sizes="16x16" href="/assets/image/favicon.ico">
<link rel="manifest" href="/assets/image/browserconfig.xml">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" content="#ffffff">
</head>
<body>

    <style>
        .message-box {
            display: none;
            background-color: #ffdddd;
            border: 1px solid #ff5c5c;
            padding: 20px;
            margin-top: 20px;
            color: #ff0000;
            font-weight: bold;
            border-radius: 8px;
        }

    </style>
  
    <div class="login-container">
        <div class="login-box">
            <h1>룩세렛 관리자 포털 로그인</h1>
            <p>로그인해 다양한 시스템에 접속해보세요.</p>
            <button id="googleLogin">
                <img src="https://ifh.cc/g/TNwjTg.png" alt="Google Logo">
                구글 아이디로 로그인
            </button>
            <div class="message-box" id="errorMessage">
                사내 시스템 접근 권한이 없습니다. 다시 확인해주시기 바랍니다.
            </div>
        </div>
    </div>
    
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.2/firebase-app.js";
        import { getAuth, onAuthStateChanged, signOut, signInWithPopup, GoogleAuthProvider } from "https://www.gstatic.com/firebasejs/11.0.2/firebase-auth.js";

        // Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyCtfK5Ruowyl9Yz6FdeRB_QoDKMOCor_k8",
            authDomain: "luxeret-login-porject.firebaseapp.com",
            projectId: "luxeret-login-porject",
            storageBucket: "luxeret-login-porject.firebasestorage.app",
            messagingSenderId: "482593560249",
            appId: "1:482593560249:web:936f2b13529866de462d68"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const auth = getAuth();
        auth.languageCode = "ko";

        const googleLoginButton = document.getElementById("googleLogin");
        const logoutButton = document.getElementById("logoutButton");
        const errorMessage = document.getElementById("errorMessage");

        // Google 로그인 버튼 클릭 이벤트
        googleLoginButton.addEventListener("click", () => {
            const provider = new GoogleAuthProvider();
            signInWithPopup(auth, provider)
                .then((result) => {
                    const user = result.user;
                    const userEmail = user.email;

                    // 특정 이메일 확인
                    if (userEmail === "team.luxeret@gmail.com") {
                        window.location.href = "https://luxeret.com/portal-admin";
                    } else {
                        // 잘못된 계정인 경우 HTML 경고 메시지 표시
                        errorMessage.style.display = "block";
                        signOut(auth); // 로그아웃 처리
                    }
                })
                .catch((error) => {
                    console.error("로그인 실패:", error);
                });
        });

        // 로그아웃 버튼 클릭 이벤트
        logoutButton.addEventListener("click", () => {
            signOut(auth)
                .then(() => {
                    window.location.href = "https://luxeret.com";
                })
                .catch((error) => {
                    console.error("로그아웃 실패:", error);
                });
        });

        // 인증 상태 변경 처리
        onAuthStateChanged(auth, (user) => {
            if (user) {
                const userEmail = user.email;

                if (userEmail === "team.luxeret@gmail.com") {
                    googleLoginButton.style.display = "none"; // 로그인 버튼 숨기기
                    logoutButton.style.display = "block"; // 로그아웃 버튼 표시
                } else {
                    errorMessage.style.display = "block"; // 경고 메시지 표시
                    signOut(auth); // 로그아웃 처리
                }
            } else {
                googleLoginButton.style.display = "block"; // 로그인 버튼 표시
                logoutButton.style.display = "none"; // 로그아웃 버튼 숨기기
                errorMessage.style.display = "none"; // 경고 메시지 숨기기
            }
        });
    </script>
</body>
</html>
    



    

        <script>
            (function(){var w=window;if(w.ChannelIO){return w.console.error("ChannelIO script included twice.");}var ch=function(){ch.c(arguments);};ch.q=[];ch.c=function(args){ch.q.push(args);};w.ChannelIO=ch;function l(){if(w.ChannelIOInitialized){return;}w.ChannelIOInitialized=true;var s=document.createElement("script");s.type="text/javascript";s.async=true;s.src="https://cdn.channel.io/plugin/ch-plugin-web.js";var x=document.getElementsByTagName("script")[0];if(x.parentNode){x.parentNode.insertBefore(s,x);}}if(document.readyState==="complete"){l();}else{w.addEventListener("DOMContentLoaded",l);w.addEventListener("load",l);}})();
          
            ChannelIO('boot', {
              "pluginKey": "9825c9e9-131f-40b6-a0f2-0cc6dce71f3c"
            });
          </script>

          

    <script src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=61e96b4cbf13eec8b737f49f" type="text/javascript" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <script src="luxeret.js" type="text/javascript"></script>
</body>
</html>
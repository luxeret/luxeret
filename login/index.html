<!DOCTYPE html>
<html data-wf-domain="luxeret.com" data-wf-page="luxeret-4873" data-wf-site="luxeret-4870">
<head>
    <meta charset="utf-8"/>
    <title>룩세렛ㅣ통합로그인</title>
    <meta property="og:type" content="website"> 
    <meta property="og:title" content="룩세렛ㅣ통합로그인">
    <meta property="og:description" content="룩세렛ㅣ통합로그인 - 가치에 가치를 더하다">
    <meta property="og:image" content="https://ifh.cc/g/Xm8bFF.png">
    <meta property="og:url" content="https://luxeret.com/login">
    <meta name="description" content="룩세렛 통합로그인 페이지 입니다.">
    <meta content="width=device-width, initial-scale=1" name="viewport"/>
    <link href="luxeret.css" rel="stylesheet" type="text/css"/>
    <meta name="naver-site-verification" content="483992bf4f969c4ad1b7b46d46bccc6257d5c97b" />

    <link rel="apple-touch-icon" sizes="180x180" href="https://luxeret.com/assets/image/apple-touch-icon.png">
<link rel="icon" type="image/ico" sizes="32x32" href="https://luxeret.com/assets/image/favicon.ico">
<link rel="icon" type="image/ico" sizes="16x16" href="https://luxeret.com/assets/image/favicon.ico">
<link rel="manifest" href="https://luxeret.com/assets/image/browserconfig.xml">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" content="#ffffff">
</head>
<body>
    <div class="left">
        <div class="login-box">
            <h1>룩세렛 계정으로 로그인하기</h1>
            <div class="social-login">
                <button id="googleLogin">
                    <img src="https://luxeret.com/assets/image/google.png" alt="Google Logo" width="20" height="20">
                    구글 아이디로 로그인
                </button>
                <button id="githubLogin">
                    <img src="https://luxeret.com/assets/image/github.png" alt="GitHub Logo" width="20" height="20">
                    깃허브 아이디로 로그인
                </button>
            </div>
        </div>
    </div>
    <div class="right">
        <div>
            <h2>다양한 사업에 도전하고 뛰어듭니다</h2>
            <br>
            <p id="dynamicText">오늘도 즐거운 하루 보내세요!</p>
        </div>
    </div>
</body>
<script>
    const messages = [
        "행복한 하루를 시작해보세요.",
        "지금 로그인하고 더 다양한 혜택을!",
        "룩세렛과 함께 해주셔서 감사합니다!",
        "로그인해 다양한 서비스에 접속해보세요."
    ];
    document.addEventListener("DOMContentLoaded", function() {
        document.getElementById("dynamicText").textContent = messages[Math.floor(Math.random() * messages.length)];
    });
</script>


<script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.17.1/firebase-app.js";
    import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.17.1/firebase-analytics.js";
    import {
      getAuth,
      signInWithPopup,
      GoogleAuthProvider,
      GithubAuthProvider
    } from "https://www.gstatic.com/firebasejs/9.17.1/firebase-auth.js";
    
    // Firebase configuration
    const firebaseConfig = {
        apiKey: "AIzaSyCtfK5Ruowyl9Yz6FdeRB_QoDKMOCor_k8",
        authDomain: "luxeret-login-porject.firebaseapp.com",
        projectId: "luxeret-login-porject",
        storageBucket: "luxeret-login-porject.firebasestorage.app",
        messagingSenderId: "482593560249",
        appId: "1:482593560249:web:936f2b13529866de462d68"
    };
    
    const app = initializeApp(firebaseConfig);
    const analytics = getAnalytics(app);

    const auth = getAuth();
    auth.languageCode = "ko";
    
    const googleProvider = new GoogleAuthProvider();
    const githubProvider = new GithubAuthProvider();

async function sendTokenToServer(user) {
    const idToken = await user.getIdToken();
    
    fetch("http://backend.luxeret.com/auth/login", {  // 서버 엔드포인트
        method: "POST",
        headers: {
            "Content-Type": "application/json"
        },
        body: JSON.stringify({ 
            token: idToken, 
            username: user.displayName  // displayname → displayName (대소문자 구분)
        })
    })
    .then(response => response.json())
    .then(data => {
        console.log("서버 응답:", data);
        if (data.success) {
            window.location.href = "/myaccount/index.html";
        }
    })
    .catch(error => console.error("서버 통신 오류:", error));
}


// 구글 로그인
document.getElementById("googleLogin").addEventListener("click", () => {
    signInWithPopup(auth, googleProvider)
        .then((result) => {
            const user = result.user;
            console.log("구글 로그인 성공:", user);
            sendTokenToServer(user);
        })
        .catch((error) => console.error("구글 로그인 오류:", error));
});

// 깃허브 로그인
document.getElementById("githubLogin").addEventListener("click", () => {
    signInWithPopup(auth, githubProvider)
        .then((result) => {
            const user = result.user;
            console.log("깃허브 로그인 성공:", user);
            sendTokenToServer(user);
        })
        .catch((error) => console.error("깃허브 로그인 오류:", error));
});

</script>
    

        <script>
            (function(){var w=window;if(w.ChannelIO){return w.console.error("ChannelIO script included twice.");}var ch=function(){ch.c(arguments);};ch.q=[];ch.c=function(args){ch.q.push(args);};w.ChannelIO=ch;function l(){if(w.ChannelIOInitialized){return;}w.ChannelIOInitialized=true;var s=document.createElement("script");s.type="text/javascript";s.async=true;s.src="https://cdn.channel.io/plugin/ch-plugin-web.js";var x=document.getElementsByTagName("script")[0];if(x.parentNode){x.parentNode.insertBefore(s,x);}}if(document.readyState==="complete"){l();}else{w.addEventListener("DOMContentLoaded",l);w.addEventListener("load",l);}})();
          
            ChannelIO('boot', {
              "pluginKey": "9825c9e9-131f-40b6-a0f2-0cc6dce71f3c"
            });
          </script>



          

    <script src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=61e96b4cbf13eec8b737f49f" type="text/javascript" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <script src="luxeret.js" type="text/javascript"></script>
</body>
</html>